var button=document.querySelector(".show-form-button"),form=document.querySelector(".search-form"),first_date=form.querySelector("[name=arrival-date]"),second_date=form.querySelector("[name=departure-date]"),adults=form.querySelector("[name=adults-quantity]"),children=form.querySelector("[name=children-quantity]"),isStorageSupport=!0,storage_a_date="",storage_d_date="",storage_adults="",storage_children="";try{storage_a_date=localStorage.getItem("arrival-date"),storage_d_date=localStorage.getItem("departure-date"),storage_adults=localStorage.getItem("adults"),storage_children=localStorage.getItem("children")}catch(e){isStorageSupport=!1}document.addEventListener("DOMContentLoaded",function(){form.classList.remove("form-show")}),button.addEventListener("click",function(e){e.preventDefault(),form.classList.toggle("form-show"),form.classList.remove("form-error"),storage_a_date?(first_date.value=storage_a_date,second_date.focus()):first_date.focus(),storage_d_date?(second_date.value=storage_d_date,adults.focus()):second_date.focus(),storage_adults?(adults.value=storage_adults,children.focus()):adults.focus(),storage_children?children.value=storage_children:children.focus(),first_date.focus()}),form.addEventListener("submit",function(e){first_date.value&&second_date.value&&adults.value&&children.value?isStorageSupport&&(localStorage.setItem("arrival-date",first_date.value),localStorage.setItem("departure-date",second_date.value),localStorage.setItem("adults-quantity",adults.value),localStorage.setItem("children-quantity",children.value)):(e.preventDefault(),form.classList.remove("form-error"),form.offsetWidth=form.offsetWidth,form.classList.add("form-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),form.classList.contains("form-show")&&(form.classList.toggle("form-show"),form.classList.remove("form-error")))});